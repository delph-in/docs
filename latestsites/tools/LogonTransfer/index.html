<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.24.0 by Michael Rose
  Copyright 2013-2020 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE
-->
<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">

<!-- begin _includes/seo.html --><title>DELPH-IN</title>
<meta name="description" content="DELPH-IN Documentation">


  <meta name="author" content="DELPH-IN">
  


<meta property="og:type" content="website">
<meta property="og:locale" content="en_US">
<meta property="og:site_name" content="DELPH-IN">
<meta property="og:title" content="DELPH-IN">
<meta property="og:url" content="https://delph-in.github.io/docs/tools/LogonTransfer/">


  <meta property="og:description" content="DELPH-IN Documentation">











  

  


<link rel="canonical" href="https://delph-in.github.io/docs/tools/LogonTransfer/">




<script type="application/ld+json">
  {
    "@context": "https://schema.org",
    
      "@type": "Person",
      "name": "DELPH-IN",
      "url": "https://delph-in.github.io/docs/tools/"
    
  }
</script>







<!-- end _includes/seo.html -->



  <link href="/docs/tools/feed.xml" type="application/atom+xml" rel="alternate" title="DELPH-IN Feed">


<!-- https://t.co/dKP3o1e -->
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="/docs/tools/assets/css/main.css">
<link rel="preload" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5/css/all.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
<noscript><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5/css/all.min.css"></noscript>



    <!-- start custom head snippets -->

<!-- insert favicons. use https://realfavicongenerator.net/ -->

<!-- end custom head snippets -->

  </head>

  <body class="layout--delphin_page wide">
    <nav class="skip-links">
  <ul>
    <li><a href="#site-nav" class="screen-reader-shortcut">Skip to primary navigation</a></li>
    <li><a href="#main" class="screen-reader-shortcut">Skip to content</a></li>
    <li><a href="#footer" class="screen-reader-shortcut">Skip to footer</a></li>
  </ul>
</nav>

    <!--[if lt IE 9]>
<div class="notice--danger align-center" style="margin: 0;">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience.</div>
<![endif]-->

    

<div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        
          <a class="site-logo" href="/docs/tools/"><img src="/docs/tools/assets/images/Delph-In.png" alt="DELPH-IN"></a>
        
        <a class="site-title" href="/docs/tools/">
          DELPH-IN
          
        </a>
        <ul class="visible-links"><li class="masthead__menu-item">
              <a href="https://delph-in.github.io/docs/home/Home">Home</a>
            </li><li class="masthead__menu-item">
              <a href="https://delph-in.github.io/docs/howto/DelphinWelcome">How-To</a>
            </li><li class="masthead__menu-item">
              <a href="https://delph-in.github.io/docs/erg/ErgTop">ERG</a>
            </li><li class="masthead__menu-item">
              <a href="https://delph-in.github.io/docs/tools/ToolsTop">Tools</a>
            </li><li class="masthead__menu-item">
              <a href="https://delph-in.github.io/docs/grammars/GrammarsOverview">Grammars</a>
            </li><li class="masthead__menu-item">
              <a href="https://delph-in.github.io/docs/matrix/MatrixDocsOverview">Matrix</a>
            </li><li class="masthead__menu-item">
              <a href="https://delph-in.github.io/docs/summits/SummitTop">Summits</a>
            </li><li class="masthead__menu-item">
              <a href="https://delph-in.github.io/docs/garage/GarageTop">Garage</a>
            </li></ul>
        
        <button class="search__toggle" type="button">
          <span class="visually-hidden">Toggle search</span>
          <i class="fas fa-search"></i>
        </button>
        
        <button class="greedy-nav__toggle hidden" type="button">
          <span class="visually-hidden">Toggle menu</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>


    <div class="initial-content">
      





<div id="main" role="main">
  
  <div class="sidebar sticky">
  
  
    
      
      
      
      
    
    
      

<nav class="nav__list">
  
  <input id="ac-toc" name="accordion-toc" type="checkbox" />
  <label for="ac-toc">Toggle Menu</label>
  <ul class="nav__items">
    
      <li>
        
          <span class="nav__sub-title">Tools</span>
        

        
        <ul>
          
            <li><a href="/docs/tools/ToolsTop/">Overview</a></li>
          
        </ul>
        
      </li>
    
      <li>
        
          <span class="nav__sub-title">PyDelphin</span>
        

        
        <ul>
          
            <li><a href="/docs/tools/PyDelphinTop/">Overview</a></li>
          
        </ul>
        
      </li>
    
      <li>
        
          <span class="nav__sub-title">LKB</span>
        

        
        <ul>
          
            <li><a href="/docs/tools/LkbTop/">Overview</a></li>
          
            <li><a href="/docs/tools/LkbInstallation/">Installation</a></li>
          
            <li><a href="/docs/tools/LkbFos/">Fully Open Source Version</a></li>
          
            <li><a href="/docs/tools/LkbMacintosh/">Macintosh Version</a></li>
          
            <li><a href="/docs/tools/LkbCourses/">Courses</a></li>
          
            <li><a href="/docs/tools/LkbConventions/">Conventions</a></li>
          
            <li><a href="/docs/tools/LkbGeneration/">Generation</a></li>
          
            <li><a href="/docs/tools/LkbCompilation/">Compilation</a></li>
          
            <li><a href="/docs/tools/LkbEmacs/">Emacs</a></li>
          
            <li><a href="/docs/tools/LkbTrollet/">Trollet</a></li>
          
            <li><a href="/docs/tools/LkbSppp/">Simple PreProcessor Protocol</a></li>
          
            <li><a href="/docs/tools/RmrsVpm/">Variable Property Mapping (VPM)</a></li>
          
            <li><a href="/docs/tools/LkbLpconstraints/">LkbLpconstraints</a></li>
          
            <li><a href="/docs/tools/LkbUserGroup/">User Group</a></li>
          
            <li><a href="/docs/tools/LkbFaq/">FAQ</a></li>
          
            <li><a href="/docs/tools/LkbMode/">Emacs FAQ</a></li>
          
            <li><a href="/docs/tools/LkbWishlist/">Wish list</a></li>
          
            <li><a href="/docs/tools/LkbBugs/">Bugs</a></li>
          
            <li><a href="/docs/tools/LkbCopyright/">Copyright</a></li>
          
        </ul>
        
      </li>
    
      <li>
        
          <span class="nav__sub-title">ACE Parser</span>
        

        
        <ul>
          
            <li><a href="/docs/tools/AceTop/">Overview</a></li>
          
            <li><a href="/docs/tools/AceInstall/">Install</a></li>
          
            <li><a href="/docs/tools/AceConfiguration/">Configuration</a></li>
          
            <li><a href="/docs/tools/AceOptions/">Options</a></li>
          
            <li><a href="/docs/tools/AceUse/">Examples</a></li>
          
            <li><a href="/docs/tools/AceLui/">LUI Mode</a></li>
          
            <li><a href="/docs/tools/AceCsaw/">Csaw</a></li>
          
            <li><a href="/docs/tools/AceTransfer/">Transfer</a></li>
          
            <li><a href="/docs/tools/AceExperimental/">Experimental</a></li>
          
            <li><a href="/docs/tools/AceFaq/">Faq</a></li>
          
            <li><a href="/docs/tools/AceWishlist/">Wish list</a></li>
          
        </ul>
        
      </li>
    
      <li>
        
          <span class="nav__sub-title">LKB LUI</span>
        

        
        <ul>
          
            <li><a href="/docs/tools/LkbLui/">Overview</a></li>
          
            <li><a href="/docs/tools/LuiRc/">User Configuration</a></li>
          
            <li><a href="/docs/tools/LuiUi/">UI Quick Reference</a></li>
          
            <li><a href="/docs/tools/LuiTree/">Tree</a></li>
          
            <li><a href="/docs/tools/LuiAvm/">Feature Structure (AVM)</a></li>
          
            <li><a href="/docs/tools/LuiUnification/">Unification</a></li>
          
            <li><a href="/docs/tools/LuiMrs/">MRS Display</a></li>
          
            <li><a href="/docs/tools/LuiChart/">Chart Browser</a></li>
          
            <li><a href="/docs/tools/LuiWishlist/">Wish list</a></li>
          
        </ul>
        
      </li>
    
      <li>
        
          <span class="nav__sub-title">LKB LexDB</span>
        

        
        <ul>
          
            <li><a href="/docs/tools/LexDbSimplePsql/">Simple PSQL</a></li>
          
            <li><a href="/docs/tools/LexDbInitialize/">Initialization</a></li>
          
            <li><a href="/docs/tools/LexDbPsqlInitialize/">PSQL Initialization</a></li>
          
            <li><a href="/docs/tools/LexDbFieldMappings/">Field Mappings</a></li>
          
            <li><a href="/docs/tools/LkbLexDbMultiUser/">Multi-User</a></li>
          
            <li><a href="/docs/tools/LkbLexDbSingleUser/">Single User</a></li>
          
        </ul>
        
      </li>
    
      <li>
        
          <span class="nav__sub-title">[incr tsdb()]</span>
        

        
        <ul>
          
            <li><a href="/docs/tools/ItsdbTop/">Overview</a></li>
          
            <li><a href="/docs/tools/TsdbTop/">Deep Dive</a></li>
          
            <li><a href="/docs/tools/ItsdbDerivations/">Derivations</a></li>
          
            <li><a href="/docs/tools/ItsdbProfileManipulation/">Profile Manipulation</a></li>
          
            <li><a href="/docs/tools/ItsdbProfile/">Profile</a></li>
          
            <li><a href="/docs/tools/ItsdbProfiling/">Profiling</a></li>
          
            <li><a href="/docs/tools/ItsdbDistributedProcessing/">Distributed Processing</a></li>
          
            <li><a href="/docs/tools/ItsdbBatch/">Batch</a></li>
          
            <li><a href="/docs/tools/ItsdbReference/">Reference</a></li>
          
            <li><a href="/docs/tools/ItsdbTroubleshooting/">Troubleshooting</a></li>
          
            <li><a href="/docs/tools/GeFaqTsdbRc/">FAQ</a></li>
          
            <li><a href="/docs/tools/ItsdbWishlist/">Wish List</a></li>
          
        </ul>
        
      </li>
    
      <li>
        
          <span class="nav__sub-title">Logon</span>
        

        
        <ul>
          
            <li><a href="/docs/tools/LogonTop/">Overview</a></li>
          
            <li><a href="/docs/tools/LogonInstallation/">Installation</a></li>
          
            <li><a href="/docs/tools/LogonRedhat/">Red Hat</a></li>
          
            <li><a href="/docs/tools/LogonUbuntu/">Ubuntu</a></li>
          
            <li><a href="/docs/tools/LogonArch/">Arch Linux</a></li>
          
            <li><a href="/docs/tools/LogonDebian/">Debian</a></li>
          
            <li><a href="/docs/tools/LogonHandon/">Hands-On Release</a></li>
          
            <li><a href="/docs/tools/LogonSvn/">SVN</a></li>
          
            <li><a href="/docs/tools/LogonProcessing_BatchGeneration/">Batch Generation</a></li>
          
            <li><a href="/docs/tools/LogonProcessing_BatchTranslation/">Batch Translation</a></li>
          
            <li><a href="/docs/tools/LogonPet/">PET Integration</a></li>
          
            <li><a href="/docs/tools/LogonAnswer/">ACE Integration</a></li>
          
            <li><a href="/docs/tools/LogonExtras/">Extras</a></li>
          
            <li><a href="/docs/tools/LogonReports/">Reports</a></li>
          
            <li><a href="/docs/tools/LogonProcessing/">Processing</a></li>
          
            <li><a href="/docs/tools/LogonProcessing_BatchParsing/">Batch Parsing</a></li>
          
            <li><a href="/docs/tools/LogonModeling/">Modeling</a></li>
          
            <li><a href="/docs/tools/LogonOnline/">Online</a></li>
          
            <li><a href="/docs/tools/LogonTransfer/" class="active">Transfer</a></li>
          
            <li><a href="/docs/tools/LogonVpm/">Variable Property Mapping</a></li>
          
            <li><a href="/docs/tools/NoJa/">Setting up New Languages</a></li>
          
            <li><a href="/docs/tools/LogonIdiosyncrasies/">Idiosyncrasies</a></li>
          
            <li><a href="/docs/tools/LogonWishlist/">Wishlist</a></li>
          
        </ul>
        
      </li>
    
      <li>
        
          <span class="nav__sub-title">Grammar Tips</span>
        

        
        <ul>
          
            <li><a href="/docs/tools/GrammarPerformance/">Grammar Performance</a></li>
          
            <li><a href="/docs/tools/VersionControlForGrammarDevelopment/">Grammar Version Control</a></li>
          
        </ul>
        
      </li>
    
      <li>
        
          <span class="nav__sub-title">Treebanking</span>
        

        
        <ul>
          
            <li><a href="/docs/tools/TreebankingTop/">Overview</a></li>
          
            <li><a href="/docs/tools/FftbTop/">Full Forest Treebanker (FFTB)</a></li>
          
            <li><a href="/docs/tools/FftbTreebankUpdateTutorial/">FFTB Treebank Update Tutorial</a></li>
          
            <li><a href="/docs/tools/FftbWishlist/">Full Forest Treebanker Wishlist</a></li>
          
            <li><a href="/docs/tools/ItsdbTreebanking/">[incr tsdb()] Treebanking</a></li>
          
            <li><a href="/docs/tools/ItsdbTreebanking_ItsdbAnnotation/">[incr tsdb()] Treebanking Annotation</a></li>
          
            <li><a href="/docs/tools/ItsdbTreebanking_ItsdbUpdating/">[incr tsdb()] Treebanking Updating</a></li>
          
            <li><a href="/docs/tools/ItsdbTreebanking_ItsdbExporting/">[incr tsdb()] Treebanking Exporting</a></li>
          
            <li><a href="/docs/tools/ItsdbTreebanking_ItsdbModeling/">[incr tsdb()] Treebanking Modeling</a></li>
          
            <li><a href="/docs/tools/ItsdbTreebanking_ItsdbUpdating/">[incr tsdb()] Treebanking Updating</a></li>
          
            <li><a href="/docs/tools/ItsdbCustomization/">[incr tsdb()] Treebanking Customization</a></li>
          
            <li><a href="/docs/tools/ItsdbTreebanking_ItsdbModeling/">[incr tsdb()] Treebanking Modeling</a></li>
          
            <li><a href="/docs/tools/IndraTreebanking/">Indra</a></li>
          
        </ul>
        
      </li>
    
      <li>
        
          <span class="nav__sub-title">Formats</span>
        

        
        <ul>
          
            <li><a href="/docs/tools/DelphinRFCs/">Delphin RFCs</a></li>
          
            <li><a href="/docs/tools/PredicateRfc/">Predicate RFC</a></li>
          
            <li><a href="/docs/tools/MrsRFC/">MRS Format RFC</a></li>
          
            <li><a href="/docs/tools/MrsIsomorphism/">MRS Isomorphism</a></li>
          
            <li><a href="/docs/tools/EdsTop/">EDS Format</a></li>
          
            <li><a href="/docs/tools/EdsConversion/">EDS Conversion</a></li>
          
            <li><a href="/docs/tools/EdsGeneration/">EDS Generation</a></li>
          
            <li><a href="/docs/tools/SemiRfc/">SEM-I RFC</a></li>
          
            <li><a href="/docs/tools/TdlRFC/">TDL RFC</a></li>
          
            <li><a href="/docs/tools/TsqlRfc/">TSQL RFC</a></li>
          
            <li><a href="/docs/tools/GrammarVersionRfc/">Grammar Version RFC</a></li>
          
            <li><a href="/docs/tools/GrammarConfigurationRfc/">Grammar Configuration RFC</a></li>
          
            <li><a href="/docs/tools/TsdbSchemaRfc/">TSDB Schema RFC</a></li>
          
            <li><a href="/docs/tools/MatrixChoicesRfc/">Matrix Choices RFC</a></li>
          
            <li><a href="/docs/tools/RmrsTop/">(R)MRS Overview</a></li>
          
            <li><a href="/docs/tools/RmrsWellformedness/">(R)MRS Wellformedness</a></li>
          
            <li><a href="/docs/tools/RmrsPos/">(R)MRS Predicate Naming</a></li>
          
            <li><a href="/docs/tools/RmrsSpan/">(R)MRS Span</a></li>
          
            <li><a href="/docs/tools/RmrsDesign/">(R)MRS Design</a></li>
          
            <li><a href="/docs/tools/RmrsParaphrasing/">(R)MRS Paraphrasing</a></li>
          
            <li><a href="/docs/tools/RmrsModel/">(R)MRS Model</a></li>
          
            <li><a href="/docs/tools/RmrsDistributional/">(R)MRS Distributional</a></li>
          
            <li><a href="/docs/tools/RmrsSemi/">(R)MRS Semi</a></li>
          
            <li><a href="/docs/tools/RmrsDmrs/">(R)MRS Dmrs</a></li>
          
            <li><a href="/docs/tools/RmrsFaq/">(R)MRS Faq</a></li>
          
            <li><a href="/docs/tools/RmrsDiscussions/">(R)MRS Discussions</a></li>
          
            <li><a href="/docs/tools/TransferRules/">Transfer Rules</a></li>
          
            <li><a href="/docs/tools/FormatSpecifications/">Format Specifications</a></li>
          
            <li><a href="/docs/tools/ErgGml/">Grammar Markup Language</a></li>
          
            <li><a href="/docs/tools/SmafTop/">SMAF</a></li>
          
            <li><a href="/docs/tools/SmafLkb/">SMAF in LKB</a></li>
          
            <li><a href="/docs/tools/SmafPet/">SMAF in PET</a></li>
          
            <li><a href="/docs/tools/SmafSample/">SMAF Sample</a></li>
          
            <li><a href="/docs/tools/SmafDtd/">SMAF DTD</a></li>
          
            <li><a href="/docs/tools/SafTop/">SAF Overview</a></li>
          
            <li><a href="/docs/tools/SafDtd/">SAF DTD</a></li>
          
            <li><a href="/docs/tools/IconsSpecs/">Icons Specs</a></li>
          
        </ul>
        
      </li>
    
  </ul>
</nav>

    
  
  </div>



  <article class="page h-entry" itemscope itemtype="https://schema.org/CreativeWork">
    
    
    
    

    <div class="page__inner-wrap">
      
        <header>
          


        </header>
      

      <section class="page__content e-content" itemprop="text">
        
        <h1 id="overview">Overview</h1>

<p>This page describes the transfer rule formalism used for, among other
things, <a href="https://delph-in.github.io/docs/tools/LogonTop">machine translation</a>,
<a href="https://delph-in.github.io/docs/tools/RmrsParaphrasing">paraphrasing</a>, and (pre-processing in)
<a href="https://delph-in.github.io/docs/tools/LkbGeneration">generation</a>. This page presents user-supplied
information, hence may be inaccurate in some details, or not necessarily
reflect use patterns anticipated by the original LOGON developers. The
functionality documented here may still change. This page was initiated
by FrancisBond; please feel free to make additions or
corrections as you see fit. However, before revising this page, one
should be reasonably confident of the information given being correct.</p>

<p>A little more information is available as an unfinished draft technical
report: Oepen (2008) <em><a href="http://www.emmtee.net/reports/11.pdf">The Transfer Formalism: General-Purpose MRS
Rewriting</a></em>, LOGON Technical
Report # 2007-11.</p>

<h1 id="table-of-contents">Table of Contents</h1>

<p>Contents</p>

<ol>
  <li><a href="https://delph-in.github.io/docs/tools/LogonTransfer#Overview">Overview</a></li>
  <li><a href="https://delph-in.github.io/docs/tools/LogonTransfer#Table_of_Contents">Table of Contents</a></li>
  <li><a href="https://delph-in.github.io/docs/tools/LogonTransfer#Basic_Structure">Basic Structure</a></li>
  <li><a href="https://delph-in.github.io/docs/tools/LogonTransfer#An_example_transfer_rule_.28from_JaEn.29">An example transfer rule (from
JaEn)</a>
    <ol>
      <li><a href="https://delph-in.github.io/docs/tools/LogonTransfer#Regular_Expressions">Regular Expressions</a></li>
      <li><a href="https://delph-in.github.io/docs/tools/LogonTransfer#Optional_Rules">Optional Rules</a></li>
    </ol>
  </li>
  <li><a href="https://delph-in.github.io/docs/tools/LogonTransfer#Interlingua">Interlingua</a></li>
  <li><a href="https://delph-in.github.io/docs/tools/LogonTransfer#Trouble_Shooting">Trouble Shooting</a>
    <ol>
      <li><a href="https://delph-in.github.io/docs/tools/LogonTransfer#To_ensure_something_is_a_noun">To ensure something is a noun</a></li>
      <li><a href="https://delph-in.github.io/docs/tools/LogonTransfer#Limit_the_effort_in_transfer">Limit the effort in transfer</a></li>
    </ol>
  </li>
  <li><a href="https://delph-in.github.io/docs/tools/LogonTransfer#Loading_the_rules">Loading the rules</a></li>
  <li><a href="https://delph-in.github.io/docs/tools/LogonTransfer#Setting_up_an_MT_system">Setting up an MT system</a></li>
  <li><a href="https://delph-in.github.io/docs/tools/LogonTransfer#Other_uses">Other uses</a>
    <ol>
      <li><a href="https://delph-in.github.io/docs/tools/LogonTransfer#Clean_Up_.28post_parsing.29">Clean Up (post parsing)</a></li>
      <li><a href="https://delph-in.github.io/docs/tools/LogonTransfer#Fix_Up_.28pre-generation.29">Fix Up (pre-generation)</a></li>
      <li><a href="https://delph-in.github.io/docs/tools/LogonTransfer#Trigger_Rules_.28for_generation.29">Trigger Rules (for
generation)</a></li>
      <li><a href="https://delph-in.github.io/docs/tools/LogonTransfer#Idiom_Rules">Idiom Rules</a></li>
      <li><a href="https://delph-in.github.io/docs/tools/LogonTransfer#Paraphrase_Rules">Paraphrase Rules</a></li>
    </ol>
  </li>
</ol>

<h1 id="basic-structure">Basic Structure</h1>

<p>A transfer rule is a quadruple &lt;<em>F</em>, <em>C</em>, <em>I</em>, <em>O</em>&gt;, where each
element is a partial MRS, with:</p>

<ul>
  <li>
    <p>- <em>F</em>: an input filter; when F matches against the input MRS, the
rule is</p>

    <ul>
      <li>blocked; <em>F</em> is evaluated after <em>C</em> and <em>I</em> have matched;</li>
    </ul>

    <p>- <em>C</em>: the input context; needs to match for a rule to apply and
binds</p>

    <ul>
      <li>variables, but is preserved in the output;</li>
    </ul>

    <p>- <em>I</em>: the input description; matches against the input MRS;
everything that</p>

    <ul>
      <li>was matched in the input will be replaced by the output part
<em>O</em>;</li>
    </ul>

    <p>- <em>O</em>: the output description; everything in the output part is
inserted</p>

    <ul>
      <li>into the MRS, respecting variable bindings that have been
established in matching earlier components.</li>
    </ul>
  </li>
</ul>

<p>There is also a mysterious fifth element FLAGS, which has several
subtypes (OPTIONAL, EQUAL, SUBSUME, BLOCK).</p>

<ul>
  <li>- EQUAL: takes a list of identifiers and forces an equality
comparison instead of a subsumption
    <ul>
      <li>test wherever they appear in the rule.</li>
    </ul>

    <p>- OPTIONAL: has value of + or - and makes application of the rule
optional. if the rule matches,</p>
    <ul>
      <li>the MT system will fork creating an instance where the rule
applied and another where it didn’t.</li>
    </ul>

    <p>- BLOCK: takes a documentation string. A rule marked with
FLAGS.BLOCK will prune that path from the</p>
    <ul>
      <li>transfer process.</li>
    </ul>
  </li>
</ul>

<h1 id="an-example-transfer-rule-from-jaen">An example transfer rule (from JaEn)</h1>

<p>This takes an input ep with a predicate of “_inu_n_rel” (犬) and
transfers it to one with a predicate of “_dog_n_1_rel” (<em>dog</em>),
preserving the values of the LBL and ARG0.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>inu_n := noun_mtr &amp;
[ INPUT.RELS &lt; [ PRED "_inu_n_rel" ] &gt;,
  OUTPUT.RELS &lt; [ PRED "_dog_n_1_rel" ] &gt; ].
</code></pre></div></div>

<p>which is a subtype of:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>noun_mtr := monotonic_mtr &amp;
[ INPUT.RELS &lt; [ LBL #h1, ARG0 #x1 ] &gt;,
  OUTPUT.RELS &lt; [ LBL #h1, ARG0 #x1 ] &gt; ].
</code></pre></div></div>

<h2 id="regular-expressions">Regular Expressions</h2>

<p>You can use regular expressions in predicate names, by starting them
with a tilde <strong>~</strong>. They cannot be used with variables. Regular
expressions are commonly used in the <em>C</em> element, both for transfer and
generation.</p>

<p>Here is an example of a pair of rules to switch the arguments of
prepositions. The first rule identifies prepositions using a regular
expression ~_p_ and marks them with a special, transfer-internal
predicate. The second rule removes the special predicate, and reverses
the arguments.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>prep_mark_jf := monotonic_mtr &amp;
[ CONTEXT.RELS &lt; [ PRED "~_p_", LBL #h0, ARG0 #e1 &amp; e ] &gt;,
  FILTER.RELS &lt; [ PRED "prep_swap_mark", LBL #h0, ARG0 #e1 ] &gt;,
  OUTPUT.RELS &lt; [ PRED "prep_swap_mark", LBL #h0, ARG0 #e1 ] &gt;,
  FLAGS.EQUAL &lt; #e1 &gt; ].

prep_swap_jf := monotonic_mtr &amp;
[ INPUT.RELS &lt; [ LBL #h1, PRED #pred, 
                 ARG0 #e1, ARG1 #1, ARG2 #2 ],
               [ PRED "prep_swap_mark", LBL #h1, ARG0 #e1 ] &gt;,
  OUTPUT.RELS &lt; [ LBL #h1, PRED #pred, 
                  ARG0 #e1, ARG1 #2, ARG2 #1 ] &gt; ].
</code></pre></div></div>

<p>A filter makes sure no special predicates remain:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>mark_ditch_cf := elision_mtr &amp;
[ INPUT.RELS &lt; [ PRED "~_mark$" ] &gt; ].
</code></pre></div></div>

<h2 id="optional-rules">Optional Rules</h2>

<p>Optional rules cause the transfer to fork. This produces one branch
where the rule applied, and one where it didn’t.</p>

<p>They are conventionally written as <em>name</em>_omtr and are defined as
follows:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>optional_mtr := mrs_transfer_rule &amp;
[ FLAGS.OPTIONAL + ].
</code></pre></div></div>

<p>The last rule in a set of transfer rules should be terminated. That is,
the last rule for a word’s translation should be a non-optional MTR. If
this isn’t done, then many spurious transfer outputs will be produced.</p>

<p>e.g.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>hoeru_v_1-bark_v_1_omtr := arg1_v_omtr &amp;
[ INPUT.RELS &lt; [ PRED "_hoeru_v_1_rel" ] &gt;,
 OUTPUT.RELS &lt; [ PRED "_bark_v_1_rel" ] &gt; ].

hoeru_v_1-roar_v_1_mtr := arg1_v_mtr &amp;
[ INPUT.RELS &lt; [ PRED "_hoeru_v_1_rel" ] &gt;,
 OUTPUT.RELS &lt; [ PRED "_roar_v_1_rel" ] &gt; ].
</code></pre></div></div>

<h1 id="interlingua">Interlingua</h1>

<p>In MT, if you choose predicate names and definitions wisely, you can
transfer some things without the need for rules. To do this, you list
the predicates in *transfer-interlingua-predicates*.</p>

<ul>
  <li>In lkb/mt.lisp:</li>
</ul>

<!-- -->

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>(defparameter *transfer-interlingua-predicates*
  '(lkb::named_rel lkb::proposition_m_rel))
</code></pre></div></div>

<h1 id="trouble-shooting">Trouble Shooting</h1>

<p>When you are transferring and then generating and get a message like
this:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[10:59:24] translate(): read 1 MRS as generator input.
[10:59:24] translate(): processing MRS # 0 (4 EPs).
[10:59:24] translate(): error `Problem in create-liszt-fs-from-rels'.
</code></pre></div></div>

<p>The most likely cause is types in the MRS being read that aren’t in the
feature structure of the grammar used to generate. You need to transfer
them or delete them using the <a href="https://delph-in.github.io/docs/tools/RmrsVpm">VPM</a>.</p>

<h2 id="to-ensure-something-is-a-noun">To ensure something is a noun</h2>

<p>Check that its in the scope of a quantifier.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[ CONTEXT.HCONS &lt; qeq &amp; [ LARG #h0 ] &gt;,
  INPUT.RELS &lt; [ PRED #pred, LBL #h0, ARG0 #x1 &amp; x &amp; [ NUM pl ] ],
               [ PRED mass_noun_mark, LBL #h0, ARG0 #x1 ] &gt; ]
</code></pre></div></div>

<h2 id="limit-the-effort-in-transfer">Limit the effort in transfer</h2>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>(setf mt::*transfer-edge-limit* 1000)
</code></pre></div></div>

<h1 id="loading-the-rules">Loading the rules</h1>

<p>Rules are loaded using mt:read-transfer-rules. For example, from
<a href="/JaEn">JaEn</a>:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>(mt:read-transfer-rules 
 (list
  (lkb-pathname (parent-directory) "snug.mtr")
  (lkb-pathname (grandparent-directory) "erg.mtr")
  (lkb-pathname (parent-directory) "erg.mtr")
  (lkb-pathname (grandparent-directory) "finale.mtr"))
 "TL accomodation phase"
 :out :out :post :erg :filter nil :after "postprocess")
</code></pre></div></div>

<ul>
  <li>
    <p>:filter</p>

    <ul>
      <li>If at the start of transfer, for rule sets that were loaded with
`:filter t’, all input predicates are compared (as strings)
against the `dictionary’ of known INPUT predicates in that rule
set. that test, currently, does not take into account regular
expressions (though it probably should).</li>
    </ul>

    <p>:before</p>

    <ul>
      <li>This calls a function as a pre-process before the transfer takes
place.</li>
    </ul>

    <p>:after</p>

    <ul>
      <li>This calls a function as a post-process after the transfer takes
place.</li>
    </ul>

    <p>:out</p>

    <ul>
      <li><strong>no documentation here, move along</strong></li>
    </ul>

    <p>:post</p>

    <ul>
      <li><strong>no documentation here, move along</strong></li>
    </ul>
  </li>
</ul>

<h1 id="setting-up-an-mt-system">Setting up an MT system</h1>

<p>See <a href="https://delph-in.github.io/docs/garage/MtSetup">MtSetup</a> for instructions on how to set up an MT system.</p>

<h1 id="other-uses">Other uses</h1>

<p>Transfer rules are used in several other places.</p>

<h2 id="clean-up-post-parsing">Clean Up (post parsing)</h2>

<p>An MTR file defining transfer rules to massage MRSes read off of TFSes.
It must be</p>

<ul>
  <li>ambiguity-free, i.e. must not contain optional rules.</li>
</ul>

<!-- -->

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>cleanup-rules    := "../cleanup.mtr".
</code></pre></div></div>

<h2 id="fix-up-pre-generation">Fix Up (pre-generation)</h2>

<p>An optional transfer grammar invoked to massage MRSes generator inputs
prior to lexical lookup. It must be</p>

<ul>
  <li>ambiguity-free, i.e. must not contain optional rules. See
<a href="https://delph-in.github.io/docs/tools/LkbGeneration">LkbGeneration</a> for more on generation.</li>
</ul>

<!-- -->

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>generation-fixup-rules     := "../gen-fixup.mtr".
</code></pre></div></div>

<h2 id="trigger-rules-for-generation">Trigger Rules (for generation)</h2>

<p>Used to add lexical entries with empty semantics to the generator chart.
See <a href="/LkbGeneration#Generating_Semantically_Empty_Lexical_Entries_.28trigger.mtr.29">Trigger
Rules</a>
for details.</p>

<h2 id="idiom-rules">Idiom Rules</h2>

<p>MTR file defining idiom-checking rules for parsing (see
<a href="/IdiomTop">IdiomTop</a>).</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>idiom-rules
</code></pre></div></div>

<p>These rules only license idioms, they do not have output.</p>

<h2 id="paraphrase-rules">Paraphrase Rules</h2>

<p>Only supported by the LKB, not ACE (2017-03-15).</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> (list
  (lkb-pathname (parent-directory) "paraphraser.mtr")
  )
 "Paraphraser"
 :filter nil :task :paraphrase)
</code></pre></div></div>

<p>Activated by the <strong>rephrase</strong> menu on the LKB: these rules allow simple
paraphrasing (and can include optional rules). (See
<a href="https://delph-in.github.io/docs/tools/RmrsParaphrasing">RmrsParaphrasing</a>)</p>

<p>Last update: 2017-03-16 by FrancisBond [<a href="https://github.com/delph-in/docs/wiki/LogonTransfer/_edit">edit</a>]</p>

        
      </section>

      <footer class="page__meta">
        
        


        


      </footer>

      

      
    </div>

    
  </article>

  
  
</div>

<!--Scroll the navbar to the current page-->
<script type="text/javascript">
  let el = document.querySelector('.nav__list .active');
  if(el){
    el.scrollIntoView({block: "center", inline: "start"});
  }
</script>
    </div>

    
      <div class="search-content">
        <div class="search-content__inner-wrap"><form class="search-content__form" onkeydown="return event.key != 'Enter';">
    <label class="sr-only" for="search">
      Enter your search term...
    </label>
    <input type="search" id="search" class="search-input" tabindex="-1" placeholder="Enter your search term..." />
  </form>
  <div id="results" class="results"></div></div>

      </div>
    

    <div id="footer" class="page__footer">
      <footer>
        <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
        <div class="page__footer-follow">
  <ul class="social-icons">
    

    
      
        
      
        
      
        
      
        
      
        
      
        
      
    

    
      <li><a href="/docs/tools/feed.xml"><i class="fas fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li>
    
  </ul>
</div>

<div class="page__footer-copyright">&copy; 2025 DELPH-IN. Powered by <a href="https://jekyllrb.com" rel="nofollow">Jekyll</a> &amp; <a href="https://mademistakes.com/work/minimal-mistakes-jekyll-theme/" rel="nofollow">Minimal Mistakes</a>.</div>

      </footer>
    </div>

    
  <script src="/docs/tools/assets/js/main.min.js"></script>




<script src="/docs/tools/assets/js/lunr/lunr.min.js"></script>
<script src="/docs/tools/assets/js/lunr/lunr-store.js"></script>
<script src="/docs/tools/assets/js/lunr/lunr-en.js"></script>







  </body>
</html>
