<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.24.0 by Michael Rose
  Copyright 2013-2020 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE
-->
<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">

<!-- begin _includes/seo.html --><title>DELPH-IN</title>
<meta name="description" content="DELPH-IN Documentation">


  <meta name="author" content="DELPH-IN">
  


<meta property="og:type" content="website">
<meta property="og:locale" content="en_US">
<meta property="og:site_name" content="DELPH-IN">
<meta property="og:title" content="DELPH-IN">
<meta property="og:url" content="https://delph-in.github.io/docs/garage/DelphinDocsReference/">


  <meta property="og:description" content="DELPH-IN Documentation">











  

  


<link rel="canonical" href="https://delph-in.github.io/docs/garage/DelphinDocsReference/">




<script type="application/ld+json">
  {
    "@context": "https://schema.org",
    
      "@type": "Person",
      "name": "DELPH-IN",
      "url": "https://delph-in.github.io/docs/garage/"
    
  }
</script>







<!-- end _includes/seo.html -->



  <link href="/docs/garage/feed.xml" type="application/atom+xml" rel="alternate" title="DELPH-IN Feed">


<!-- https://t.co/dKP3o1e -->
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="/docs/garage/assets/css/main.css">
<link rel="preload" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5/css/all.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
<noscript><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5/css/all.min.css"></noscript>



    <!-- start custom head snippets -->

<!-- insert favicons. use https://realfavicongenerator.net/ -->

<!-- end custom head snippets -->

  </head>

  <body class="layout--delphin_page wide">
    <nav class="skip-links">
  <ul>
    <li><a href="#site-nav" class="screen-reader-shortcut">Skip to primary navigation</a></li>
    <li><a href="#main" class="screen-reader-shortcut">Skip to content</a></li>
    <li><a href="#footer" class="screen-reader-shortcut">Skip to footer</a></li>
  </ul>
</nav>

    <!--[if lt IE 9]>
<div class="notice--danger align-center" style="margin: 0;">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience.</div>
<![endif]-->

    

<div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        
          <a class="site-logo" href="/docs/garage/"><img src="/docs/garage/assets/images/Delph-In.png" alt="DELPH-IN"></a>
        
        <a class="site-title" href="/docs/garage/">
          DELPH-IN
          
        </a>
        <ul class="visible-links"><li class="masthead__menu-item">
              <a href="https://delph-in.github.io/docs/home/Home">Home</a>
            </li><li class="masthead__menu-item">
              <a href="https://delph-in.github.io/docs/howto/DelphinWelcome">How-To</a>
            </li><li class="masthead__menu-item">
              <a href="https://delph-in.github.io/docs/erg/ErgTop">ERG</a>
            </li><li class="masthead__menu-item">
              <a href="https://delph-in.github.io/docs/tools/ToolsTop">Tools</a>
            </li><li class="masthead__menu-item">
              <a href="https://delph-in.github.io/docs/grammars/GrammarsOverview">Grammars</a>
            </li><li class="masthead__menu-item">
              <a href="https://delph-in.github.io/docs/matrix/MatrixDocsOverview">Matrix</a>
            </li><li class="masthead__menu-item">
              <a href="https://delph-in.github.io/docs/summits/SummitTop">Summits</a>
            </li><li class="masthead__menu-item">
              <a href="https://delph-in.github.io/docs/garage/GarageTop">Garage</a>
            </li></ul>
        
        <button class="search__toggle" type="button">
          <span class="visually-hidden">Toggle search</span>
          <i class="fas fa-search"></i>
        </button>
        
        <button class="greedy-nav__toggle hidden" type="button">
          <span class="visually-hidden">Toggle menu</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>


    <div class="initial-content">
      





<div id="main" role="main">
  
  <div class="sidebar sticky">
  
  
    
      
      
      
      
    
    
      

<nav class="nav__list">
  
  <input id="ac-toc" name="accordion-toc" type="checkbox" />
  <label for="ac-toc">Toggle Menu</label>
  <ul class="nav__items">
    
      <li>
        
          <span class="nav__sub-title">Garage</span>
        

        
        <ul>
          
            <li><a href="/docs/garage/GarageTop/">Overview</a></li>
          
        </ul>
        
      </li>
    
      <li>
        
          <span class="nav__sub-title">Grammar Tools</span>
        

        
        <ul>
          
            <li><a href="/docs/garage/AgreeTop/">Agree</a></li>
          
            <li><a href="/docs/garage/ChartMapping/">Chart Mapping</a></li>
          
            <li><a href="/docs/garage/ChartMappingSetup/">Chart Mapping Setup</a></li>
          
            <li><a href="/docs/garage/ClimbTop/">CLIMB</a></li>
          
            <li><a href="/docs/garage/Climb_GClimb/">CLIMB for Germanic languages</a></li>
          
            <li><a href="/docs/garage/DelphinTools/">Delphin Tools</a></li>
          
            <li><a href="/docs/garage/EgadTop/">Erroneous Generation Analysis and Detection (EGAD)</a></li>
          
            <li><a href="/docs/garage/EgadInstallation/">EGAD Installation</a></li>
          
            <li><a href="/docs/garage/SafFspp/">Finite-State PreProcessor</a></li>
          
            <li><a href="/docs/garage/Climb_GClimb_German/">gCLIMB Phenomena</a></li>
          
            <li><a href="/docs/garage/GDeltaTop/">gDelta</a></li>
          
            <li><a href="/docs/garage/SpringCleaningTop/">Grammar Spring Cleaning</a></li>
          
            <li><a href="/docs/garage/HeartofgoldTop/">Heart of Gold</a></li>
          
            <li><a href="/docs/garage/HogInstallation/">Hog Installation</a></li>
          
            <li><a href="/docs/garage/LkbLtdb/">Linguistic Type Database</a></li>
          
            <li><a href="/docs/garage/ReppTop/">Regular Expression Pre-Processor</a></li>
          
            <li><a href="/docs/garage/RmrsDmrsComparison/">Rmrs/Dmrs Comparison</a></li>
          
            <li><a href="/docs/garage/ClimbShortClimb/">SHORT-CLIMB</a></li>
          
            <li><a href="/docs/garage/TestingWithAnt/">Testing With Ant</a></li>
          
            <li><a href="/docs/garage/TypediffTop/">Typediff</a></li>
          
            <li><a href="/docs/garage/VistaExtractionTop/">Vista Extraction</a></li>
          
            <li><a href="/docs/garage/PhenomenaTop/">Phenomena</a></li>
          
        </ul>
        
      </li>
    
      <li>
        
          <span class="nav__sub-title">Completed Projects</span>
        

        
        <ul>
          
            <li><a href="/docs/garage/RedwoodsTop/">Redwoods</a></li>
          
            <li><a href="/docs/garage/WeScience/">WeScience</a></li>
          
            <li><a href="/docs/garage/DeepBank/">DeepBank</a></li>
          
            <li><a href="/docs/garage/DeepBank_OneZero/">DeepBank 1.0</a></li>
          
            <li><a href="/docs/garage/WikiWoods/">WikiWoods</a></li>
          
            <li><a href="/docs/garage/SemCor/">SC corpus</a></li>
          
            <li><a href="/docs/garage/OldOverviews/">Old DELPH-IN Overview</a></li>
          
        </ul>
        
      </li>
    
      <li>
        
          <span class="nav__sub-title">Grammars (experimental)</span>
        

        
        <ul>
          
            <li><a href="/docs/garage/GrenouilleSummary/">French</a></li>
          
        </ul>
        
      </li>
    
      <li>
        
          <span class="nav__sub-title">Grammar Discussions</span>
        

        
        <ul>
          
            <li><a href="/docs/garage/GrammarDiscussionsTop/">Overview</a></li>
          
            <li><a href="/docs/garage/LADIndonesianMorphology/">Indonesian Morphology</a></li>
          
            <li><a href="/docs/garage/CapitalHillPassivesDiscussion/">Indonesian Passives</a></li>
          
            <li><a href="/docs/garage/CapitolHillPassives/">CapitolHillPassives</a></li>
          
            <li><a href="/docs/garage/RomanceTop/">Romance</a></li>
          
            <li><a href="/docs/garage/RomClitics/">Romance Clitics</a></li>
          
            <li><a href="/docs/garage/RomSe/">Romance Clitic Se</a></li>
          
            <li><a href="/docs/garage/RomContract/">Romance Contractions</a></li>
          
            <li><a href="/docs/garage/DelphinLisbon/">Romance Contributions</a></li>
          
            <li><a href="/docs/garage/SlavicTop/">Slavic</a></li>
          
            <li><a href="/docs/garage/HarmonyTop/">Semantic Harmonization</a></li>
          
            <li><a href="/docs/garage/PhonologyTop/">Phonology</a></li>
          
            <li><a href="/docs/garage/PhonologyTop_FrenchPhonemes/">Phonology of French Phonemes</a></li>
          
            <li><a href="/docs/garage/SaarlandSententialArgument/">Saarland Sentential Argument</a></li>
          
        </ul>
        
      </li>
    
      <li>
        
          <span class="nav__sub-title">Lexical Semantics</span>
        

        
        <ul>
          
            <li><a href="/docs/garage/LexsemTop/">Overview</a></li>
          
            <li><a href="/docs/garage/LexsemMapping/">Mapping</a></li>
          
        </ul>
        
      </li>
    
      <li>
        
          <span class="nav__sub-title">Machine Translation</span>
        

        
        <ul>
          
            <li><a href="/docs/garage/MachineTranslationTop/">Overview</a></li>
          
            <li><a href="/docs/garage/MachineTranslationTutorial/">Tutorial</a></li>
          
        </ul>
        
      </li>
    
      <li>
        
          <span class="nav__sub-title">Japanese/English Machine Translation</span>
        

        
        <ul>
          
            <li><a href="/docs/garage/MtJaen/">Overview</a></li>
          
            <li><a href="/docs/garage/MtSetup/">Setup</a></li>
          
            <li><a href="/docs/garage/MtRuleExtraction/">MtRuleExtraction</a></li>
          
            <li><a href="/docs/garage/MtJaenFeedbackCleaning/">Feedback Cleaning</a></li>
          
            <li><a href="/docs/garage/NE_Tagging_For_Improving_SMT/">Improving SMT</a></li>
          
            <li><a href="/docs/garage/MtJaenTanaka/">Tanaka Corpus</a></li>
          
            <li><a href="/docs/garage/MtJaenSmt/">Discussion</a></li>
          
            <li><a href="/docs/garage/JaenTodo/">Jaen TODO</a></li>
          
        </ul>
        
      </li>
    
      <li>
        
          <span class="nav__sub-title">Indra/English Transfer Grammar</span>
        

        
        <ul>
          
            <li><a href="/docs/garage/IndraAce/">Ace</a></li>
          
            <li><a href="/docs/garage/IndraPreprocessing/">Preprocessing</a></li>
          
            <li><a href="/docs/garage/IndraTranslation/">Translation</a></li>
          
            <li><a href="/docs/garage/IndraRegressionTest/">RegressionTest</a></li>
          
        </ul>
        
      </li>
    
      <li>
        
          <span class="nav__sub-title">WeSearch</span>
        

        
        <ul>
          
            <li><a href="/docs/garage/WeSearch/">WeSearch</a></li>
          
            <li><a href="/docs/garage/WeSearch_Ccs/">CCS</a></li>
          
            <li><a href="/docs/garage/CcsGroup/">CCS Attendees</a></li>
          
            <li><a href="/docs/garage/WeSearch_CcsDayOne/">CCS Day One</a></li>
          
            <li><a href="/docs/garage/WeSearch_CcsDayTwo/">CCS Day Two</a></li>
          
            <li><a href="/docs/garage/WeSearch_CcsDayThree/">CCS Day Three</a></li>
          
            <li><a href="/docs/garage/WeSearch_DesignPrinciples/">WeSearch_DesignPrinciples</a></li>
          
            <li><a href="/docs/garage/WeSearch_AnalysisCatalog/">WeSearch_AnalysisCatalog</a></li>
          
            <li><a href="/docs/garage/WeSearch_ScopalArgCoord/">WeSearch_ScopalArgCoord</a></li>
          
            <li><a href="/docs/garage/WeSearch_ICONS/">WeSearch_ICONS</a></li>
          
            <li><a href="/docs/garage/WeSearch_UnderspecifedAttachment/">WeSearch_UnderspecifedAttachment</a></li>
          
            <li><a href="/docs/garage/WeSearch_UnderspecifiedPreds/">WeSearch_UnderspecifiedPreds</a></li>
          
            <li><a href="/docs/garage/WeSearch_VariablePropertySharing/">WeSearch_VariablePropertySharing</a></li>
          
            <li><a href="/docs/garage/WeSearch_DataCollection/">WeSearch_DataCollection</a></li>
          
        </ul>
        
      </li>
    
      <li>
        
          <span class="nav__sub-title">PET</span>
        

        
        <ul>
          
            <li><a href="/docs/garage/PetTop/">Overview</a></li>
          
            <li><a href="/docs/garage/PetDependencies/">Dependencies</a></li>
          
            <li><a href="/docs/garage/PetEclipse/">Eclipse</a></li>
          
            <li><a href="/docs/garage/PetRoadMap/">RoadMap</a></li>
          
            <li><a href="/docs/garage/PetInput/">Input</a></li>
          
            <li><a href="/docs/garage/ReppPet/">ReppPet</a></li>
          
            <li><a href="/docs/garage/PetOutput/">Output</a></li>
          
            <li><a href="/docs/garage/PetOptions/">Options</a></li>
          
            <li><a href="/docs/garage/PetParameters/">Parameters</a></li>
          
            <li><a href="/docs/garage/PetSelectiveUnpacking/">Selective Unpacking</a></li>
          
            <li><a href="/docs/garage/PetInputFsc/">Input Feature Structure Chart</a></li>
          
            <li><a href="/docs/garage/PetInputChart/">Input Chart</a></li>
          
            <li><a href="/docs/garage/UtTop/">Ubertagging</a></li>
          
            <li><a href="/docs/garage/PetLogging/">Logging</a></li>
          
            <li><a href="/docs/garage/PetRobustness/">Robustness</a></li>
          
            <li><a href="/docs/garage/FeforPetApi/">PET API Proposal</a></li>
          
        </ul>
        
      </li>
    
      <li>
        
          <span class="nav__sub-title">Documentation</span>
        

        
        <ul>
          
            <li><a href="/docs/garage/DocsQuickStart/">Quick Start</a></li>
          
            <li><a href="/docs/garage/DelphinDocsReference/" class="active">Reference</a></li>
          
            <li><a href="/docs/garage/ERDW_StructureForNewDocsSite/">Background</a></li>
          
            <li><a href="/docs/garage/GoogleSeasonOfDocs2023ProjectProposal/">Season of Docs</a></li>
          
        </ul>
        
      </li>
    
  </ul>
</nav>

    
  
  </div>



  <article class="page h-entry" itemscope itemtype="https://schema.org/CreativeWork">
    
    
    
    

    <div class="page__inner-wrap">
      
        <header>
          


        </header>
      

      <section class="page__content e-content" itemprop="text">
        
        <h1 id="delph-in-docs-reference-guide">DELPH-IN Docs Reference Guide</h1>
<p>The documentation system is designed to be able to combine documentation from any publicly accessible git repository into an arbitrary set of sites.  Pages from one repository can be put into different sites and will automatically keep their links valid. Furthermore, documentation can be generated from, for example, grammar source and included as well.  The definition of the sites created is copied into the docs repository so that git can be used to see what changed and observe the history.  Branches can be used to test, etc.</p>

<p>It does this by using a <a href="https://docs.github.com/en/actions/using-workflows/about-workflows">GitHub Workflow</a> which is located in the <a href="https://github.com/delph-in/docs/tree/main/.github/workflows">/.github/workflows folder</a> of the DELPH-IN docs repository to build the docs. A workflow is simply a way of defining computer code that can run on GitHub’s servers.  The workflow runs on an actual computer at GitHub, it has access to a file system and it can run any command you can run from a linux shell (including git commands), etc.  It is just a large script running on a Linux server. It uses a <a href="https://docs.github.com/en/pages/setting-up-a-github-pages-site-with-jekyll/about-github-pages-and-jekyll">system called Jekyll to create a set of sites and then uses GitHub pages to publish the sites.</a></p>

<p>In a nutshell the workflow does the following to build the documentation site:</p>
<ol>
  <li>Clone (in a git sense, i.e. git clone …) every repository that has any content we want to use in the ultimate documentation. This will make a copy of it available on the GitHub server the script is running on. We will selectively choose which files to include in later steps. Step 1 simply grabs the entire set of repositories we want access to.</li>
</ol>

<p>Run the <a href="https://github.com/delph-in/docs/blob/main/sitescripts/createdocs.py?raw=true"><code class="language-plaintext highlighter-rouge">createdocs.py</code> script</a> that is in the <code class="language-plaintext highlighter-rouge">sitescripts</code> folder of the <code class="language-plaintext highlighter-rouge">docs</code> repository. This script does the following:</p>

<ol>
  <li>Load in the file called <a href="https://github.com/delph-in/docs/blob/main/sitesdefinitions.json?raw=true"><code class="language-plaintext highlighter-rouge">sitesdefinitions.json</code></a> in the root of the <code class="language-plaintext highlighter-rouge">docs</code> repository.  This file defines all of the sites that will be created, and all of the files that will be copied from the repositories we cloned in step 1.  This is how the structure of the documentation sites and the docs that populate them are defined.</li>
  <li>Create blank template site definitions for everything in the <code class="language-plaintext highlighter-rouge">Sites</code> section of <code class="language-plaintext highlighter-rouge">sitesdefinitions.json</code>. These site definitions are for Jekyll to use. Jekyll will actually turn them into valid HTML pages that Github Pages can serve.  See <a href="https://docs.github.com/en/pages/setting-up-a-github-pages-site-with-jekyll/about-github-pages-and-jekyll">the Github Pages docs</a> for more information.</li>
  <li>Copy all of the pages in the <code class="language-plaintext highlighter-rouge">Pages</code> section of <a href="https://github.com/delph-in/docs/blob/main/sitesdefinitions.json?raw=true"><code class="language-plaintext highlighter-rouge">sitesdefinitions.json</code></a> to the proper site definition where they should be displayed.  In the process, <code class="language-plaintext highlighter-rouge">createdocs.py</code> reads each file and fixes up its links to point to the proper place in the new site structure.  This is so pages that link to other pages in the same repository will continue to work in the final documentation, even if the pages fall in different sites.</li>
</ol>

<p>After the <code class="language-plaintext highlighter-rouge">createdocs.py</code> script is finished, control goes back to the workflow and it:</p>

<ol>
  <li>Actually runs Jekyll on all the site definitions to build the real HTML</li>
  <li>Publishes the sites to GitHub pages so they can be served</li>
</ol>

<h2 id="the-docs-repository-folder-structure">The docs repository folder structure</h2>
<p>The <code class="language-plaintext highlighter-rouge">docs</code> repository has the following folder structure:</p>
<ul>
  <li><code class="language-plaintext highlighter-rouge">.github</code>: This folder contains the GitHub workflow that runs the documentation build process.  It also contains a folder called <code class="language-plaintext highlighter-rouge">workflows</code> which contains the actual workflow definition.  This is the file that is run when you click the “Actions” tab on the GitHub page for the <code class="language-plaintext highlighter-rouge">docs</code> repository.</li>
  <li><code class="language-plaintext highlighter-rouge">latestsrc</code>: Files selected by <a href="https://github.com/delph-in/docs/blob/main/sitesdefinitions.json?raw=true"><code class="language-plaintext highlighter-rouge">sitedefinitions.json</code></a> to be in the documentation sites are initially copied here.  Think of this as the raw documentation that will be turned into actual HTML site.  This is checked into git so that changes can be tracked.</li>
  <li><code class="language-plaintext highlighter-rouge">latestsites</code>: Jekyll takes the raw input from <code class="language-plaintext highlighter-rouge">latestsrc</code> and turns it into a real HTML site in this folder. This folder contains the latest version of the documentation sites.  It is the output of the workflow and is checked into git, so that differences between versions can be seen.  It is the folder that is served by GitHub pages.</li>
  <li><code class="language-plaintext highlighter-rouge">sitescripts</code>: Contains the python scripts that are run by the workflow to build the documentation sites.  It also contains files that start with <code class="language-plaintext highlighter-rouge">template_</code> which are some of the template files needed by Jekyll to build the sites. The <code class="language-plaintext highlighter-rouge">sitescripts/site_template_standard</code> folder contains the rest of the files used by Jekyll. The <code class="language-plaintext highlighter-rouge">sitescripts/site_template_standard</code> folder is copied into the <code class="language-plaintext highlighter-rouge">latestsites</code> folder, once for each site built.</li>
  <li><code class="language-plaintext highlighter-rouge">sitescripts/testdata</code>: Contains some test data that is used by the workflow to test the documentation build process.  It is not used in the actual documentation build process.</li>
  <li><code class="language-plaintext highlighter-rouge">sitescripts/testsitesdefinitions.json</code>: This is a copy of <code class="language-plaintext highlighter-rouge">sitesdefinitions.json</code> that is used by the workflow to test the documentation build process (along with the <code class="language-plaintext highlighter-rouge">testdata</code> folder).  It is not used in the actual documentation build process.</li>
  <li><code class="language-plaintext highlighter-rouge">sitesdefinitions.json</code>: This is the file that defines the structure of the documentation sites.  It is the key file in the whole process that defines the site structure and what goes where.</li>
</ul>

<p>There are also some markdown (<code class="language-plaintext highlighter-rouge">.md</code>) files in the root of the <code class="language-plaintext highlighter-rouge">docs</code> repository that get included in the documentation (such as this file).  This is where pages that aren’t really appropriate in the WIKI should go.  For example <code class="language-plaintext highlighter-rouge">MatrixDocsOverview.md</code> refers to navigation that isn’t there when you are browsing the wiki directly, it is solely used in the documentation site. The documentation reference files are here instead of in the WIKI to make them discoverable by people browsing the docs site.</p>

<h2 id="defining-the-documentation-structure">Defining the Documentation Structure</h2>
<p><a href="https://github.com/delph-in/docs/blob/main/sitesdefinitions.json?raw=true"><code class="language-plaintext highlighter-rouge">sitesdefinitions.json</code></a> is the key file in this whole process. A simplified version looks like this:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{
  "Comments": [
    "This comments section is solely for comments that describe this json file"
  ],
  "SourceRepositories":
    {
      "docswiki": {"Repository": "delph-in/docs/wiki"},
      "websitewiki": {"Repository": "ericzinda/docsproto/wiki", "ReportUnusedWikiEntries": True}
    },
  "Sites":
  [
    {"SiteFullName": "DELPH-IN Docs", "SiteNavigationName": "Home", "Site": "home", "HomePage": "Home.md"},
    {"SiteFullName": "DELPH-IN How-to", "SiteNavigationName": "How-to", "Site": "howto"}
  ],
  "Pages":
  {
    "home": [
      {"Section": "DELPH-IN", "Pages": [
        {"Page": "Overview", "SrcDir": "docswiki", "SrcFile": "Home.md"},
        {"Page": "Welcome", "SrcDir": "docswiki", "SrcFile": "DelphinWelcome.md", "Referrer": "home/Home.md"},
        {"Page": "Applications", "SrcDir": "docswiki", "SrcFile": "DelphinApplications.md", "Referrer": "home/Home.md"}
      ]},
      {"Section": "Projects", "Pages": [
        {"Page": "DeepBank", "SrcDir": "docswiki", "SrcFile": "DeepBank.md"}
      ]}
    ],
    "howto": [
      {"Section": "DELPH-IN", "Pages": [
        {"Page": "Welcome", "SrcDir": "docswiki", "SrcFile": "DelphinWelcome.md", "Referrer": "home/Home.md"}
      ]},
      {"Section": "Tutorials", "Pages": [
        {"Page": "DelphinTutorial", "SrcDir": "docswiki", "SrcFile": "DelphinTutorial.md", "Referrer": "summits/SaarlandSchedule.md"},
        {"Page": "DelphinTutorial_Formalisms", "SrcDir": "docswiki", "SrcFile": "DelphinTutorial_Formalisms.md" 
      ]}
   ]}
  }
}
</code></pre></div></div>
<h3 id="sourcerepositories">SourceRepositories</h3>
<p>The <code class="language-plaintext highlighter-rouge">SourceRepositories</code> section declares what repositories will be used to populate the content of the site. Not everything from these repositories is included in the final sites, just the files listed in <a href="https://github.com/delph-in/docs/blob/main/sitesdefinitions.json?raw=true"><code class="language-plaintext highlighter-rouge">sitedefinitions.json</code></a>.</p>
<ul>
  <li><code class="language-plaintext highlighter-rouge">key</code> is the name that will be used by the <code class="language-plaintext highlighter-rouge">SrcDir</code> field in every page in the <code class="language-plaintext highlighter-rouge">Pages</code> section to refer to the repository.  It must match the directory name where the repository got cloned by the workflow.</li>
  <li><code class="language-plaintext highlighter-rouge">Repository</code> is the name of the repository in Github.  If it is a Wiki, replace the dot in the name (delph-in/docs.wiki) with a slash (delph-in/docs/wiki)</li>
  <li><code class="language-plaintext highlighter-rouge">ReportUnusedWikiEntries</code> should be set to true if you want the <code class="language-plaintext highlighter-rouge">Fixes for Broken Links to Pages</code> report to include any pages from a github wiki site that were <em>not</em> included in the docs</li>
</ul>

<p>To add a new repository, a row must be added here <em>and</em> the <a href="https://github.com/delph-in/docs/tree/main/.github/workflows/BuildDocs.yml">workflow</a> must be modified to also clone it so the data is available. Below is where a new row would be added to declare that a new repository should be available for entries in <code class="language-plaintext highlighter-rouge">sitesdefinitions.json</code>:</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  ...
  
  "SourceRepositories":
    {
      "docswiki": {"Repository": "delph-in/docs/wiki"},
      "websitewiki": {"Repository": "ericzinda/docsproto/wiki"}
    },
  
  ...
</code></pre></div></div>

<p>You can see how to update the <a href="https://github.com/delph-in/docs/tree/main/.github/workflows/BuildDocs.yml">workflow</a> by looking for where the existing repositories are cloned and adding a new section.</p>

<h3 id="sites">Sites</h3>
<p>The <code class="language-plaintext highlighter-rouge">Sites</code> section declares what top level sites exist to hold content. Think of these like chapters in a book. These create the top level navigation on the site.</p>
<ul>
  <li><code class="language-plaintext highlighter-rouge">SiteFullName</code> is the descriptive name that will be shown for the site when you are in that site.</li>
  <li><code class="language-plaintext highlighter-rouge">SiteNavigationName</code> is what shows up in the menu to change between sites</li>
  <li><code class="language-plaintext highlighter-rouge">Site</code> is not shown to the user but is used as the <em>key</em> in the <code class="language-plaintext highlighter-rouge">Pages</code> section to identify the site</li>
  <li><code class="language-plaintext highlighter-rouge">HomePage</code> is optional. If included, that will be the first page displayed when you go to the site. If missing, the very first page listed in the site will be shown.
    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>...
  
"Sites":
[
  {"SiteFullName": "DELPH-IN Docs", "SiteNavigationName": "Home", "Site": "home", "HomePage": "Home.md"},
  {"SiteFullName": "DELPH-IN How-to", "SiteNavigationName": "How-to", "Site": "howto"}
],
  
...
</code></pre></div>    </div>
  </li>
</ul>

<h3 id="pages">Pages</h3>
<p>The <code class="language-plaintext highlighter-rouge">Pages</code> section declares which pages from the different repositories should actually be included in the site, and where. It is in a tree structure so that pages can easily be moved around. The page definitions themselves don’t have information about where they are. Their location is set by their location in the tree.</p>

<p>So, to include 2 pages in the “concept” site in a structure like this:</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>concept
    Erg Semantics
        ErgSemantics.md
    More Semantics
        ErgSemantics_Basics.md
</code></pre></div></div>
<p>You would use the definition below:</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  "Pages":
  {
    "concept": [
      {"Section": "Erg Semantics", "Pages": [
        {"Page": "Overview", "SrcDir": "docswiki", "SrcFile": "ErgSemantics.md"},
      ]},
      {"Section": "More Semantics", "Pages": [
        {"Page": "Basics", "SrcDir": "docswiki", "SrcFile": "ErgSemantics_Basics.md"},
      ]}
    ]
  }
</code></pre></div></div>
<p>The <code class="language-plaintext highlighter-rouge">Page</code> definition fields are:</p>
<ul>
  <li><code class="language-plaintext highlighter-rouge">Page</code>: The name that should be shown to the user for the page</li>
  <li><code class="language-plaintext highlighter-rouge">SrcDir</code>: The name of the directory that contains the repository that contains it. This directory name is defined in the workflow.</li>
  <li><code class="language-plaintext highlighter-rouge">SrcFile</code>: The filename and path to the file in the directory that should be included in the documentation.</li>
  <li><code class="language-plaintext highlighter-rouge">DstFile</code>: (optional) This field can be included if the name of the original page needs to be changed when it is included in the documentation (e.g. to avoid a conflict) or if the file needs to be put in a location different from its default.  If <code class="language-plaintext highlighter-rouge">DstFile</code> is not included, the default location in the documentation site will be the same as the relative location in the original. For example, if the file was in the root of its source repository, it will be in the root of the documentation site too. If it was in the <code class="language-plaintext highlighter-rouge">foo/bar/goo</code> directory, that is where it will get put in the documentation site as well. NOTE: Any directory structure deeper than one directory seems to be ignored by the Jekyll system, so use this field to copy files into a structure that is only one directory deep.</li>
  <li><code class="language-plaintext highlighter-rouge">DefinitiveLink</code>: (optional) This field can be included if the page appears in more than one place in the site. The one (or the last one if multiple are) marked as <code class="language-plaintext highlighter-rouge">'DefinitiveLink'=true</code> will be the one other pages choose to link to. If this is not included, then the first reference to the page in the entire <code class="language-plaintext highlighter-rouge">sitedefinitions.json</code> file will be where all the links go.</li>
  <li><code class="language-plaintext highlighter-rouge">Referrer</code>: Not used by the system but sometimes included to indicate what is linking to the file.  Any other fields can be added to the page definition and they will be ignored, as this field is.</li>
</ul>

<p>Simply creating a new <code class="language-plaintext highlighter-rouge">Section</code> definition and putting pages inside it causes them to be included in the site, and in that section of the docs.</p>

<p>The format is designed to make it easy to move files around, redefine sections, sites, etc. Just running the workflow again will create the new site structure.</p>

<h2 id="running-the-workflow">Running the Workflow</h2>
<p>To run the workflow:</p>
<ol>
  <li>Click on the <code class="language-plaintext highlighter-rouge">Actions</code> tab at the top of the DELPH-IN docs repository on GitHub.</li>
  <li>Then click <code class="language-plaintext highlighter-rouge">BuildDocs</code> on the left side of the page. At this point you’ll see a record of previous runs (if they weren’t deleted)</li>
  <li>Finally, click the <code class="language-plaintext highlighter-rouge">Run Workflow</code> button on the right side and then <code class="language-plaintext highlighter-rouge">Run Workflow</code> on the UI that appears</li>
</ol>

<p>At this point the workflow will begin running and you’ll see its status.  When done, it will have a green checkmark for success or a red X for failure.  If it was successful the docs have been immediately published and you can browse them live. It takes about 10 minutes to run.</p>

<p>You can also click on the row that represents the run you just did and you’ll see an “Artifacts” section at the bottom. This gives you files that get output by the run:</p>
<ul>
  <li><code class="language-plaintext highlighter-rouge">All Links</code>: A Json file that lists every link in every document included in every site and whether they are broken, valid, etc. Useful for debugging. If you chose to check external links (which takes about 1.5 hours) the validity of those will be included. Otherwise only internal links between wiki pages are checked.</li>
  <li><code class="language-plaintext highlighter-rouge">All Pages</code>: Lists every page in every site.</li>
  <li><code class="language-plaintext highlighter-rouge">Fixes for Broken Links to Pages</code>: Creates page definitions suitable for including in <code class="language-plaintext highlighter-rouge">sitesdefinition.json</code> for every broken link and for every page that was not included from a site that had <code class="language-plaintext highlighter-rouge">ReportUnusedWikiEntries</code> set to true (this allows detecting pages that weren’t linked to and not included). Note that this includes adding entries for wiki pages that <em>don’t exist</em> (those will have the <code class="language-plaintext highlighter-rouge">FileMissing</code> field set in their definition). This allows you to simply copy the <code class="language-plaintext highlighter-rouge">File</code> definition to the <code class="language-plaintext highlighter-rouge">sitesdefinition.json</code> file to include it and fix the broken link. It includes the transitive closure of all broken links (i.e. the links from those files to other files that aren’t included, and so on).  If you included all of these files in <code class="language-plaintext highlighter-rouge">sitesdefinition.json</code>, there would be no broken (Wiki) links!</li>
</ul>

<blockquote>
  <p>Note that a file that was linked to but didn’t exist will have a definition in <code class="language-plaintext highlighter-rouge">Fixes for Broken Links to Pages</code> as well, but will include a <code class="language-plaintext highlighter-rouge">"FileMissing": True</code> field. Obviously don’t add this to the site without also creating the file that was missing!</p>
</blockquote>

<p>If it failed, click on the row that represents the run you just did and you’ll see an error file. If you open this file, all of the errors encountered will be listed.  Fix those and rerun the workflow.  In rare cases, you might need to click on the run, and then on the box that represents the “build” part of the workflow. That will expand all the details of the run and show you why it failed.  The biggest source of failure is not formatting the JSON file correctly.</p>

<h2 id="the-ignore-section">The <code class="language-plaintext highlighter-rouge">&lt;ignore&gt;</code> Section</h2>
<p>Note that any section named <code class="language-plaintext highlighter-rouge">&lt;ignore&gt;</code> that is included in the docs will <em>not</em> be included in the output.  However, any pages in it will be counted as “not broken” when linked to, even if they don’t exist in the site. This is a mechanism for removing them from being added to the “Fixes for Broken Links to Wiki Pages” output file that the build generates.  Note that the any links to them will have the link removed as well.</p>

<h2 id="running-createdocspy-directly-for-testing">Running <code class="language-plaintext highlighter-rouge">createdocs.py</code> Directly for Testing</h2>
<p>The <code class="language-plaintext highlighter-rouge">createdocs.py</code> script is usually run by the <code class="language-plaintext highlighter-rouge">BuildDocs.yml</code> workflow in the <code class="language-plaintext highlighter-rouge">.github</code> folder.  However, it is just a Python script and it can be run directly from the command line for testing purposes.  If you run it with no arguments, it will tell you what arguments it expects and then fail, like this:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>python ./createdocs.py
Error: Requires 5 arguments: 
1) Root address of site (i.e. sites will be under that URL address)
2) Full path to where repositories containing docs to be used as source are stored
3) Full path to the latestsrc directory of the docs repository
4) Full path to the latestsites directory of the docs repository
5) Full path and filename of the json file that defines the docs
6) (optional) true or false (default false): run in quick and dirty mode which removes things like timestamps on files that take a while to calculate
7) (optional) true or false (default false): VERY SLOW: Run in url check mode which checks that all links to other (internal and public) pages are valid
Traceback (most recent call last):
  File "./createdocs.py", line 659, in &lt;module&gt;
    assert False
AssertionError
</code></pre></div></div>

<p>So, to run the script in test mode (meaning: using the <code class="language-plaintext highlighter-rouge">sitescripts/testsitesdefinitions.json</code> definition file and the data from <code class="language-plaintext highlighter-rouge">sitescripts/testdata</code>), publishing to the github pages site “https://blog.inductorsoftware.com/docsproto”, and with the <code class="language-plaintext highlighter-rouge">docs</code> repository in the <code class="language-plaintext highlighter-rouge">/docsproto</code> directory, you would run the following:</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>python ./createdocs.py  https://blog.inductorsoftware.com/docsproto  /docsproto/sitescripts/testdata /docsproto/latestsrc /docsproto/latestsites /docsproto/sitescripts/testsitesdefinitions.json true, false
</code></pre></div></div>

<p>To see what requirements should be <code class="language-plaintext highlighter-rouge">pip install</code>ed, look at the <code class="language-plaintext highlighter-rouge">BuildDocs.yml</code> workflow in the <code class="language-plaintext highlighter-rouge">.github/workflows</code> folder.</p>

<p>Note that running <code class="language-plaintext highlighter-rouge">createdocs.py</code> directly won’t actually publish the site anywhere, it will just clear out the <code class="language-plaintext highlighter-rouge">latestsrc</code> directory and replace it with whatever is in the <code class="language-plaintext highlighter-rouge">testsitesdefinitions.json</code> file.</p>

<p>Running in test mode is useful for debugging the script by placing interesting edge cases, etc into the <code class="language-plaintext highlighter-rouge">testdata</code> folder and referencing them from the <code class="language-plaintext highlighter-rouge">testsitesdefinitions.json</code> file.</p>

<p>Last update: 2024-05-10 by omahs [<a href="https://github.com/delph-in/docs/edit/main/DelphinDocsReference.md">edit</a>]</p>

        
      </section>

      <footer class="page__meta">
        
        


        


      </footer>

      

      
    </div>

    
  </article>

  
  
</div>

<!--Scroll the navbar to the current page-->
<script type="text/javascript">
  let el = document.querySelector('.nav__list .active');
  if(el){
    el.scrollIntoView({block: "center", inline: "start"});
  }
</script>
    </div>

    
      <div class="search-content">
        <div class="search-content__inner-wrap"><form class="search-content__form" onkeydown="return event.key != 'Enter';">
    <label class="sr-only" for="search">
      Enter your search term...
    </label>
    <input type="search" id="search" class="search-input" tabindex="-1" placeholder="Enter your search term..." />
  </form>
  <div id="results" class="results"></div></div>

      </div>
    

    <div id="footer" class="page__footer">
      <footer>
        <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
        <div class="page__footer-follow">
  <ul class="social-icons">
    

    
      
        
      
        
      
        
      
        
      
        
      
        
      
    

    
      <li><a href="/docs/garage/feed.xml"><i class="fas fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li>
    
  </ul>
</div>

<div class="page__footer-copyright">&copy; 2025 DELPH-IN. Powered by <a href="https://jekyllrb.com" rel="nofollow">Jekyll</a> &amp; <a href="https://mademistakes.com/work/minimal-mistakes-jekyll-theme/" rel="nofollow">Minimal Mistakes</a>.</div>

      </footer>
    </div>

    
  <script src="/docs/garage/assets/js/main.min.js"></script>




<script src="/docs/garage/assets/js/lunr/lunr.min.js"></script>
<script src="/docs/garage/assets/js/lunr/lunr-store.js"></script>
<script src="/docs/garage/assets/js/lunr/lunr-en.js"></script>







  </body>
</html>
